T=int(raw_input())
for j in range(T):
	N,M=map(int,raw_input().split(" "))
	s=0
	for i in range(1,N+1):
		s+=((pow(i,4)*(N/i)) % M)
	print s
